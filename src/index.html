<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>CIQA</title>
	<base href="/">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="icon" type="image/x-icon" href="favicon.ico">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">  

	<!-- Styles CSS -->
	<link rel="stylesheet" href="./assets/styles.css"> 


	<!-- 'Nunito' Font -->
	<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,600,700" rel="stylesheet">

	<!-- 'Material Icons' Font -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	
	<!-- jQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> 

	<!-- OWL -->
	<script src="./assets/js/owl.carousel.min.js"></script>

	<!-- Latest compiled JavaScript JS -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!-- Particles JS --> 
	<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

	<!-- Tweenmax Gsap JS -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>

	<!-- Scrollmagic + Gsap JS -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
</head>

<body>
	<div class="load-bar" style="position: fixed; top: 0px; left: 0px; height: 10px; width: 5%; transition: width 3s; background: #00183E;"></div>
	<div class="loader"></div>
	<style>.loader { border: 7px solid transparent; border-top: 7px solid #00183E; border-bottom: 7px solid #00183E; border-radius: 50%; width: 80px; height: 80px; animation: spin 1s linear infinite; margin-left: 50%; margin-top: 40vh; transform: translate(-50%, -50%); }@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>
	<app-root style="opacity: 0">
	</app-root>
</body>
<!-- INCLUDE SCROLLMAGIC + GSAP -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
<!-- FIN INCLUDE -->
<script>
//ANIMAR LOADING PAGE
//script para pantalla de carga y primer animación
var load_bar = 0;

//on complete version
var init_web = setInterval(function(){
	if (document.readyState == "interactive" && load_bar < 30) {
		load_bar = 25;
	}
	if (document.readyState == "complete") {
		load_bar = 100;
		$(".loader, .load_bar").fadeOut();
		clearInterval(init_web);
		setTimeout(function(){
			$("app-root, header").css({"opacity":1});
			$("html, body").scrollTop(0);
			TweenMax.fromTo($("html"), 1, {overflow: "hidden", position: "absolute", clip: "rect(0px, 10000vw, 10px, 0px)"},{clip: "rect(0px, 10000px, 3000px, 0px)", ease: Power3.easeIn});
			TweenMax.staggerFromTo($(".texto-inicial2, .texto-inicial .titulo, .texto-inicial .texto"), 1, {opacity:0, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:1}, 0.3);
			
			if (location.hash == "#/" || location.hash == "#/home") {
				TweenMax.fromTo($(".navigation-menu"), 1, {opacity:0.5, y:-100},{y: 10, opacity: 1, ease: Power3.easeOut, delay:2.2});
				TweenMax.fromTo($(".content-outer.container.no-padding"), 1, {opacity:0.5, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:2.2});
			} else {
				TweenMax.fromTo($(".navigation-menu"), 1, {opacity:0.5, y:-100},{y: 10, opacity: 1, ease: Power3.easeOut, delay:.5});
				TweenMax.fromTo($(".content-outer.container.no-padding"), 1, {opacity:0.5, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:.5});
			}
		},2000);
		setTimeout(function(){
			$("html").removeAttr("style");
		},5000);
	}
	if (load_bar < 100) {
		load_bar += Math.floor((Math.random() * 10) + 1);
	}
	$(".load-bar").css({"width":load_bar+"%"});
},3000)

//on interactive version
// var init_web = setInterval(function(){
// 	if (document.readyState == "interactive" || document.readyState == "complete") {
// 		load_bar = 100;
// 		$(".loader, .load_bar").fadeOut();
// 		clearInterval(init_web);
// 		setTimeout(function(){
// 			$("app-root, header").css({"opacity":1});
// 			$("html, body").scrollTop(0);
// 			TweenMax.fromTo($("html"), 1, {overflow: "hidden", position: "absolute", clip: "rect(0px, 10000vw, 10px, 0px)"},{clip: "rect(0px, 10000px, 3000px, 0px)", ease: Power3.easeIn});
// 			TweenMax.staggerFromTo($(".texto-inicial2, .texto-inicial .titulo, .texto-inicial .texto"), 1, {opacity:0, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:1}, 0.3);
// 			if (location.hash == "#/" || location.hash == "#/home") {
// 				TweenMax.fromTo($(".navigation-menu"), 1, {opacity:0.5, y:-100},{y: 10, opacity: 1, ease: Power3.easeOut, delay:2.2});
// 				TweenMax.fromTo($(".content-outer.container.no-padding"), 1, {opacity:0.5, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:2.2});
// 			} else {
// 				TweenMax.fromTo($(".navigation-menu"), 1, {opacity:0.5, y:-100},{y: 10, opacity: 1, ease: Power3.easeOut, delay:.5});
// 				TweenMax.fromTo($(".content-outer.container.no-padding"), 1, {opacity:0.5, y:50},{y: 10, opacity: 1, ease: Power3.easeOut, delay:.5});
// 			}
// 		},2000);
// 		setTimeout(function(){
// 			$("html").removeAttr("style");
// 		},5000);
// 	}
// 	if (load_bar < 100) {
// 		load_bar += Math.floor((Math.random() * 20) + 1);
// 	}
// 	$(".load-bar").css({"width":load_bar+"%"});
// },2000)


//INICIALIZAR CONTROLLER
var scrollMagicController = new ScrollMagic.Controller();
    
var i = 0;
var offsetAnterior = 0;
$(".fadeInNormal").each(function(index,element){
    var offset = $(element).offset().top;
    if (offsetAnterior == offset) {
        i += 0.2;
    } else {
        i = 0;
    }
    offsetAnterior = $(element).offset().top;
    // CREANDO ANIMACIÓN
    var nombreAnimacion = new TweenMax.fromTo(element, 0.5, {opacity:0, y:50},{y: 0, opacity: 1, delay: i});
    //ASIGNANDO TRIGGERS
    var scenenombreAnimacion = new ScrollMagic.Scene({triggerElement: element, offset: -250}).setTween(nombreAnimacion).addTo(scrollMagicController);
})

$(".fadeInAuto").each(function(index,element){
	// CREANDO ANIMACIÓN
	var fadeInAuto = new TweenMax.staggerFromTo(element, 1, {opacity:0, y:50},{y: 0, opacity: 1, delay: 2}, 0.2);
	//ASIGNANDO TRIGGERS
	var scenefadeInAuto = new ScrollMagic.Scene({triggerElement: element, offset: -1050}).setTween(fadeInAuto).addTo(scrollMagicController);
});
</script>
</html>
